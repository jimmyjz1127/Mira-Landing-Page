{"ast":null,"code":"function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types');\n\nvar DefaultCanvasSize = 16;\nvar linkElements = [];\n\nvar drawAlert = function drawAlert(context, _ref) {\n  var fillColor = _ref.fillColor,\n      text = _ref.text,\n      textColor = _ref.textColor,\n      canvasSize = _ref.canvasSize;\n  var Padding = canvasSize / 5;\n  context.font = \"bold \" + (canvasSize - Padding * 2) + \"px arial\";\n  var w = Math.min(context.measureText(text).width, canvasSize - Padding) + Padding;\n  var x = canvasSize - w;\n  var y = canvasSize / 2 - Padding;\n  var h = Padding + canvasSize / 2;\n  var r = Math.min(w / 2, h / 2);\n  context.beginPath();\n  context.moveTo(x + r, y);\n  context.arcTo(x + w, y, x + w, y + h, r);\n  context.arcTo(x + w, y + h, x, y + h, r);\n  context.arcTo(x, y + h, x, y, r);\n  context.arcTo(x, y, x + w, y, r);\n  context.closePath();\n  context.fillStyle = fillColor;\n  context.fill();\n  context.fillStyle = textColor;\n  context.textBaseline = 'bottom';\n  context.textAlign = 'right';\n  context.fillText(text, canvasSize - Padding / 2, canvasSize, canvasSize - Padding);\n};\n\nfunction drawIcon(_ref2) {\n  var alertCount = _ref2.alertCount,\n      alertFillColor = _ref2.alertFillColor,\n      alertTextColor = _ref2.alertTextColor,\n      callback = _ref2.callback,\n      renderOverlay = _ref2.renderOverlay,\n      src = _ref2.url,\n      canvasSize = _ref2.canvasSize;\n  var img = document.createElement('img');\n  img.crossOrigin = 'Anonymous';\n\n  img.onload = function () {\n    var canvas = document.createElement('canvas');\n    canvas.width = canvasSize;\n    canvas.height = canvasSize;\n    var context = canvas.getContext('2d');\n    context.clearRect(0, 0, img.width, img.height);\n    context.drawImage(img, 0, 0, canvas.width, canvas.height);\n\n    if (alertCount) {\n      drawAlert(context, {\n        fillColor: alertFillColor,\n        textColor: alertTextColor,\n        text: alertCount,\n        canvasSize: canvasSize\n      });\n    }\n\n    if (renderOverlay) {\n      renderOverlay(canvas, context);\n    }\n\n    callback(context.canvas.toDataURL());\n  };\n\n  img.src = src;\n}\n\nvar Favicon = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Favicon, _React$Component);\n\n  function Favicon() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.state = {\n      animationIndex: 0,\n      animationLoop: null,\n      animationRunning: false\n    };\n    return _this;\n  }\n\n  Favicon.getActiveInstance = function getActiveInstance() {\n    return Favicon.mountedInstances[Favicon.mountedInstances.length - 1];\n  };\n\n  Favicon.draw = function draw() {\n    if (typeof document === 'undefined') return;\n    var activeInstance = Favicon.getActiveInstance();\n\n    if (linkElements.length === 0) {\n      var head = document.getElementsByTagName('head')[0];\n      var linkEl = document.createElement('link');\n      linkEl.type = 'image/x-icon';\n      linkEl.rel = 'icon';\n      var linkApple = document.createElement('link');\n      linkApple.rel = 'apple-touch-icon';\n      linkElements.push(linkEl, linkApple);\n      var links = head.getElementsByTagName('link');\n\n      for (var i = links.length; --i >= 0;) {\n        if (/\\bicon\\b/i.test(links[i].getAttribute('rel')) && !activeInstance.props.keepIconLink(links[i])) {\n          head.removeChild(links[i]);\n        }\n      }\n\n      linkElements.forEach(function (el) {\n        return head.appendChild(el);\n      });\n    }\n\n    var currentUrl;\n\n    if (activeInstance.props.url instanceof Array) {\n      currentUrl = activeInstance.props.url[activeInstance.state.animationIndex];\n    } else {\n      currentUrl = activeInstance.props.url;\n    }\n\n    if (activeInstance.props.alertCount || activeInstance.props.renderOverlay) {\n      drawIcon({\n        alertCount: activeInstance.props.alertCount,\n        alertFillColor: activeInstance.props.alertFillColor,\n        alertTextColor: activeInstance.props.alertTextColor,\n        callback: function callback(url) {\n          linkElements.forEach(function (el) {\n            return el.href = url;\n          });\n        },\n        renderOverlay: activeInstance.props.renderOverlay,\n        url: currentUrl,\n        canvasSize: activeInstance.props.iconSize\n      });\n    } else {\n      linkElements.forEach(function (el) {\n        return el.href = currentUrl;\n      });\n    }\n  };\n\n  Favicon.update = function update() {\n    if (typeof document === 'undefined') return;\n    var activeInstance = Favicon.getActiveInstance();\n    var isAnimated = activeInstance.props.url instanceof Array && activeInstance.props.animated;\n    var intervalId = null;\n    clearInterval(activeInstance.state.animationLoop);\n\n    if (isAnimated) {\n      var animateFavicon = function animateFavicon() {\n        var nextAnimationIndex = (activeInstance.state.animationIndex + 1) % activeInstance.props.url.length;\n        Favicon.draw();\n        activeInstance.setState({\n          animationIndex: nextAnimationIndex\n        });\n      };\n\n      intervalId = setInterval(animateFavicon, activeInstance.props.animationDelay);\n      animateFavicon();\n    } else {\n      Favicon.draw();\n    }\n\n    activeInstance.setState({\n      animationLoop: intervalId\n    });\n  };\n\n  var _proto = Favicon.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    Favicon.mountedInstances.push(this);\n    Favicon.update();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var activeInstance = Favicon.getActiveInstance();\n    clearInterval(activeInstance.state.animationLoop);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    if (prevProps.url === this.props.url && prevProps.animated === this.props.animated && prevProps.alertCount === this.props.alertCount && prevProps.alertFillColor === this.props.alertFillColor && prevProps.alertTextColor === this.props.alertTextColor && prevProps.renderOverlay === this.props.renderOverlay && prevProps.keepIconLink === this.props.keepIconLink && prevProps.iconSize === this.props.iconSize) return;\n    Favicon.update();\n  };\n\n  _proto.render = function render() {\n    return null;\n  };\n\n  return Favicon;\n}(React.Component);\n\nFavicon.displayName = 'Favicon';\nFavicon.mountedInstances = [];\nFavicon.defaultProps = {\n  iconSize: DefaultCanvasSize,\n  alertCount: null,\n  alertFillColor: 'red',\n  alertTextColor: 'white',\n  animated: true,\n  animationDelay: 500,\n  keepIconLink: function keepIconLink() {\n    return false;\n  },\n  renderOverlay: null,\n  url: null\n};\nFavicon.propTypes = {\n  iconSize: PropTypes.number,\n  alertCount: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  alertFillColor: PropTypes.string,\n  alertTextColor: PropTypes.string,\n  animated: PropTypes.bool,\n  animationDelay: PropTypes.number,\n  keepIconLink: PropTypes.func,\n  renderOverlay: PropTypes.func,\n  url: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.string), PropTypes.string]).isRequired\n};\nmodule.exports = Favicon;","map":{"version":3,"mappings":"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","names":["React","require","PropTypes","DefaultCanvasSize","linkElements","drawAlert","context","fillColor","text","textColor","canvasSize","Padding","font","w","Math","min","measureText","width","x","y","h","r","beginPath","moveTo","arcTo","closePath","fillStyle","fill","textBaseline","textAlign","fillText","drawIcon","alertCount","alertFillColor","alertTextColor","callback","renderOverlay","src","url","img","document","createElement","crossOrigin","onload","canvas","height","getContext","clearRect","drawImage","toDataURL","Favicon","state","animationIndex","animationLoop","animationRunning","getActiveInstance","mountedInstances","length","draw","activeInstance","head","getElementsByTagName","linkEl","type","rel","linkApple","push","links","i","test","getAttribute","props","keepIconLink","removeChild","forEach","el","appendChild","currentUrl","Array","href","iconSize","update","isAnimated","animated","intervalId","clearInterval","animateFavicon","nextAnimationIndex","setState","setInterval","animationDelay","componentDidMount","componentWillUnmount","componentDidUpdate","prevProps","render","Component","displayName","defaultProps","propTypes","number","oneOfType","string","bool","func","arrayOf","isRequired","module","exports"],"sources":["/mnt/c/Users/jimmy/Documents/WebDesign/Mira/client/node_modules/react-favicon/src/index.js"],"sourcesContent":["'use strict'\n\nconst React = require('react')\nconst PropTypes = require('prop-types')\n\nconst DefaultCanvasSize = 16\nconst linkElements = []\n\nconst drawAlert = (context, { fillColor, text, textColor, canvasSize }) => {\n  // Allow same looking padding over differents iconSizes\n  const Padding = canvasSize / 5;\n  // Allow readable text across differnts iconSizes\n  context.font = `bold ${canvasSize - (Padding * 2)}px arial`;\n\n  const w = Math.min(\n    // Take the text with if it's smaller than available space (eg: '2')\n    context.measureText(text).width,\n    // Or take the maximum size we'll force our text to fit in anyway (eg: '1000000')\n    canvasSize - Padding) + Padding\n\n  const x = canvasSize - w\n  const y = canvasSize / 2 - Padding\n  const h = Padding + canvasSize / 2\n  const r = Math.min(w / 2, h / 2)\n\n  context.beginPath()\n  context.moveTo(x + r, y)\n  context.arcTo(x + w, y, x + w, y + h, r)\n  context.arcTo(x + w, y + h, x, y + h, r)\n  context.arcTo(x, y + h, x, y, r)\n  context.arcTo(x, y, x + w, y, r)\n  context.closePath()\n  context.fillStyle = fillColor\n  context.fill()\n  context.fillStyle = textColor\n  context.textBaseline = 'bottom'\n  context.textAlign = 'right'\n  context.fillText(\n    text,\n    canvasSize - Padding / 2,\n    canvasSize,\n    // This will prevent the text from going outside the favicon, instead it'll squeeze his with to fit in\n    canvasSize - Padding)\n}\n\nfunction drawIcon({\n  alertCount,\n  alertFillColor,\n  alertTextColor,\n  callback,\n  renderOverlay,\n  url: src,\n  canvasSize,\n}) {\n  const img = document.createElement('img')\n  img.crossOrigin = 'Anonymous'\n  img.onload = function () {\n    const canvas = document.createElement('canvas')\n    canvas.width = canvasSize;\n    canvas.height = canvasSize;\n\n    const context = canvas.getContext('2d')\n    context.clearRect(0, 0, img.width, img.height)\n    context.drawImage(img, 0, 0, canvas.width, canvas.height)\n\n    if (alertCount) {\n      drawAlert(context, {\n        fillColor: alertFillColor,\n        textColor: alertTextColor,\n        text: alertCount,\n        canvasSize,\n      })\n    }\n\n    if (renderOverlay) {\n      renderOverlay(canvas, context)\n    }\n    callback(context.canvas.toDataURL())\n  }\n  img.src = src\n}\n\nclass Favicon extends React.Component {\n  static displayName = 'Favicon'\n\n  static mountedInstances = []\n\n  static getActiveInstance() {\n    return Favicon.mountedInstances[Favicon.mountedInstances.length - 1]\n  }\n\n  static draw() {\n    if (typeof document === 'undefined') return\n\n    var activeInstance = Favicon.getActiveInstance()\n    if (linkElements.length === 0) {\n      var head = document.getElementsByTagName('head')[0]\n\n      const linkEl = document.createElement('link')\n      linkEl.type = 'image/x-icon'\n      linkEl.rel = 'icon'\n\n      const linkApple = document.createElement('link')\n      linkApple.rel = 'apple-touch-icon'\n\n      linkElements.push(linkEl, linkApple)\n\n      // remove existing favicons\n      var links = head.getElementsByTagName('link')\n      for (var i = links.length; --i >= 0; ) {\n        if (\n          /\\bicon\\b/i.test(links[i].getAttribute('rel')) &&\n          !activeInstance.props.keepIconLink(links[i])\n        ) {\n          head.removeChild(links[i])\n        }\n      }\n\n      linkElements.forEach((el) => head.appendChild(el))\n    }\n\n    var currentUrl\n\n    if (activeInstance.props.url instanceof Array) {\n      currentUrl = activeInstance.props.url[activeInstance.state.animationIndex]\n    } else {\n      currentUrl = activeInstance.props.url\n    }\n\n    if (activeInstance.props.alertCount || activeInstance.props.renderOverlay) {\n      drawIcon({\n        alertCount: activeInstance.props.alertCount,\n        alertFillColor: activeInstance.props.alertFillColor,\n        alertTextColor: activeInstance.props.alertTextColor,\n        callback: (url) => {\n          linkElements.forEach((el) => el.href = url)\n        },\n        renderOverlay: activeInstance.props.renderOverlay,\n        url: currentUrl,\n        canvasSize: activeInstance.props.iconSize\n      })\n    } else {\n      linkElements.forEach((el) => el.href = currentUrl)\n    }\n  }\n\n  static update() {\n    if (typeof document === 'undefined') return\n\n    var activeInstance = Favicon.getActiveInstance()\n    var isAnimated =\n      activeInstance.props.url instanceof Array && activeInstance.props.animated\n\n    // clear any running animations\n    var intervalId = null\n    clearInterval(activeInstance.state.animationLoop)\n\n    if (isAnimated) {\n      var animateFavicon = function animateFavicon() {\n        var nextAnimationIndex =\n          (activeInstance.state.animationIndex + 1) %\n          activeInstance.props.url.length\n        Favicon.draw()\n        activeInstance.setState({ animationIndex: nextAnimationIndex })\n      }\n      intervalId = setInterval(\n        animateFavicon,\n        activeInstance.props.animationDelay\n      )\n      animateFavicon()\n    } else {\n      Favicon.draw()\n    }\n\n    activeInstance.setState({ animationLoop: intervalId })\n  }\n\n  state = {\n    animationIndex: 0,\n    animationLoop: null,\n    animationRunning: false,\n  }\n\n  componentDidMount() {\n    Favicon.mountedInstances.push(this)\n    Favicon.update()\n  }\n\n  componentWillUnmount() {\n    var activeInstance = Favicon.getActiveInstance()\n    clearInterval(activeInstance.state.animationLoop)\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.url === this.props.url &&\n      prevProps.animated === this.props.animated &&\n      prevProps.alertCount === this.props.alertCount &&\n      prevProps.alertFillColor === this.props.alertFillColor &&\n      prevProps.alertTextColor === this.props.alertTextColor &&\n      prevProps.renderOverlay === this.props.renderOverlay &&\n      prevProps.keepIconLink === this.props.keepIconLink &&\n      prevProps.iconSize === this.props.iconSize\n    )\n      return\n\n    Favicon.update()\n  }\n\n  render() {\n    return null\n  }\n}\n\nFavicon.defaultProps = {\n  iconSize: DefaultCanvasSize,\n  alertCount: null,\n  alertFillColor: 'red',\n  alertTextColor: 'white',\n  animated: true,\n  animationDelay: 500,\n  keepIconLink: () => false,\n  renderOverlay: null,\n  url: null,\n}\n\nFavicon.propTypes = {\n  iconSize: PropTypes.number,\n  alertCount: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  alertFillColor: PropTypes.string,\n  alertTextColor: PropTypes.string,\n  animated: PropTypes.bool,\n  animationDelay: PropTypes.number,\n  keepIconLink: PropTypes.func,\n  renderOverlay: PropTypes.func,\n  url: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.string),\n    PropTypes.string,\n  ]).isRequired,\n}\n\nmodule.exports = Favicon\n"]},"metadata":{},"sourceType":"script"}